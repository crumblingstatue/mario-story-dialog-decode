pub fn kana(hex: u8) -> Option<char> {
    let val = match hex {
        0x00 => 'ã‚',
        0x01 => 'ã„',
        0x02 => 'ã†',
        0x03 => 'ãˆ',
        0x04 => 'ãŠ',
        0x05 => 'ã‹',
        0x06 => 'ã',
        0x07 => 'ã',
        0x08 => 'ã‘',
        0x09 => 'ã“',
        0x0a => 'ã•',
        0x0b => 'ã—',
        0x0c => 'ã™',
        0x0d => 'ã›',
        0x0e => 'ã',
        0x0f => 'ãŸ',
        0x10 => 'ã¡',
        0x11 => 'ã¤',
        0x12 => 'ã¦',
        0x13 => 'ã¨',
        0x14 => 'ãª',
        0x15 => 'ã«',
        0x16 => 'ã¬',
        0x17 => 'ã­',
        0x18 => 'ã®',
        0x19 => 'ã¯',
        0x1a => 'ã²',
        0x1b => 'ãµ',
        0x1c => 'ã¸',
        0x1d => 'ã»',
        0x1e => 'ã¾',
        0x1f => 'ã¿',
        0x20 => 'ã‚€',
        0x21 => 'ã‚',
        0x22 => 'ã‚‚',
        0x23 => 'ã‚„',
        0x24 => 'ã‚†',
        0x25 => 'ã‚ˆ',
        0x26 => 'ã‚‰',
        0x27 => 'ã‚Š',
        0x28 => 'ã‚‹',
        0x29 => 'ã‚Œ',
        0x2a => 'ã‚',
        0x2b => 'ã‚',
        0x2c => 'ã‚’',
        0x2d => 'ã‚“',
        0x2e => 'ã‚”',
        0x2f => 'ãŒ',
        0x30 => 'ãŽ',
        0x31 => 'ã',
        0x32 => 'ã’',
        0x33 => 'ã”',
        0x34 => 'ã–',
        0x35 => 'ã˜',
        0x36 => 'ãš',
        0x37 => 'ãœ',
        0x38 => 'ãž',
        0x39 => 'ã ',
        0x3a => 'ã¢',
        0x3b => 'ã¥',
        0x3c => 'ã§',
        0x3d => 'ã©',
        0x3e => 'ã°',
        0x3f => 'ã³',
        0x40 => 'ã¶',
        0x41 => 'ã¹',
        0x42 => 'ã¼',
        0x43 => 'ã±',
        0x44 => 'ã´',
        0x45 => 'ã·',
        0x46 => 'ãº',
        0x47 => 'ã½',
        0x48 => 'ã',
        0x49 => 'ãƒ',
        0x4a => 'ã…',
        0x4b => 'ã‡',
        0x4c => 'ã‚‡',
        0x4d => 'ã£',
        0x4e => 'ã‚ƒ',
        0x4f => 'ã‚…',
        0x50 => 'ã‚‡',
        0x51 => 'ã‚¢',
        0x52 => 'ã‚¤',
        0x53 => 'ã‚¦',
        0x54 => 'ã‚¨',
        0x55 => 'ã‚ª',
        0x56 => 'ã‚«',
        0x57 => 'ã‚­',
        0x58 => 'ã‚¯',
        0x59 => 'ã‚±',
        0x5a => 'ã‚³',
        0x5b => 'ã‚µ',
        0x5c => 'ã‚·',
        0x5d => 'ã‚¹',
        0x5e => 'ã‚»',
        0x5f => 'ã‚½',
        0x60 => 'ã‚¿',
        0x61 => 'ãƒ',
        0x62 => 'ãƒ„',
        0x63 => 'ãƒ†',
        0x64 => 'ãƒˆ',
        0x65 => 'ãƒŠ',
        0x66 => 'ãƒ‹',
        0x67 => 'ãƒŒ',
        0x68 => 'ãƒ',
        0x69 => 'ãƒŽ',
        0x6a => 'ãƒ',
        0x6b => 'ãƒ’',
        0x6c => 'ãƒ•',
        0x6d => 'ãƒ˜',
        0x6e => 'ãƒ›',
        0x6f => 'ãƒž',
        0x70 => 'ãƒŸ',
        0x71 => 'ãƒ ',
        0x72 => 'ãƒ¡',
        0x73 => 'ãƒ¢',
        0x74 => 'ãƒ¤',
        0x75 => 'ãƒ¦',
        0x76 => 'ãƒ¨',
        0x77 => 'ãƒ©',
        0x78 => 'ãƒª',
        0x79 => 'ãƒ«',
        0x7a => 'ãƒ¬',
        0x7b => 'ãƒ­',
        0x7c => 'ãƒ¯',
        0x7d => 'ãƒ²',
        0x7e => 'ãƒ³',
        0x7f => 'ãƒ´',
        0x80 => 'ã‚¬',
        0x81 => 'ã‚®',
        0x82 => 'ã‚°',
        0x83 => 'ã‚²',
        0x84 => 'ã‚´',
        0x85 => 'ã‚¶',
        0x86 => 'ã‚¸',
        0x87 => 'ã‚º',
        0x88 => 'ã‚¼',
        0x89 => 'ãƒ³', // ãƒ³ with dakuten, can't represent
        0x8a => 'ãƒ€',
        0x8b => 'ãƒ‚',
        0x8c => 'ãƒ…',
        0x8d => 'ãƒ‡',
        0x8e => 'ãƒ‰',
        0x8f => 'ãƒ',
        0x90 => 'ãƒ“',
        0x91 => 'ãƒ–',
        0x92 => 'ã¹',
        0x93 => 'ãƒœ',
        0x94 => 'ãƒ‘',
        0x95 => 'ãƒ”',
        0x96 => 'ãƒ—',
        0x97 => 'ãƒš',
        0x98 => 'ãƒ',
        0x99 => 'ã‚¡',
        0x9A => 'ã‚£',
        0x9B => 'ã‚¥',
        0x9C => 'ã‚§',
        0x9D => 'ã‚©',
        0x9E => 'ãƒƒ',
        0x9F => 'ãƒ£',
        0xA0 => 'ãƒ¥',
        0xA1 => 'ãƒ§',
        0xA2 => 'ãƒ¼',
        0xA3 => '~',
        0xA7 => 'ï¼',
        0xA8 => 'ï¼‘',
        0xA9 => 'ï¼’',
        0xAA => 'ï¼“',
        0xAB => 'ï¼”',
        0xAC => 'ï¼•',
        0xAD => 'ï¼–',
        0xAE => 'ï¼—',
        0xAF => 'ï¼˜',
        0xB0 => 'ï¼™',
        0xB1 => 'â†‘',
        0xB2 => 'â†“',
        0xB3 => 'â†',
        0xB4 => 'â†’',
        0xB5 => 'ï¼',
        0xB6 => 'ï¼Ÿ',
        0xB7 => '+',
        0xB8 => '-',
        0xB9 => '/',
        0xBA => '.',
        0xBB => '&',
        0xBC => '#',
        0xBD => '\u{2764}', // heavy black heart (single code point heart emoji)
        0xBE => 'â­',
        0xBF => 'ï¼ˆ',
        0xC0 => 'ï¼‰',
        0xC1 => 'ã€Œ',
        0xC2 => 'ã€',
        0xC3 => 'ã€‚',
        0xC4 => 'ã‚“', // Supposed to be small ã‚“, but not present in most fonts
        0xC5 => 'ãƒ³', // Small ãƒ³, representing with normal one
        0xC6 => 'æ˜Ÿ',
        0xF7 => '\u{3000}',
        0xF8 => '\u{3000}', // leading space?
        _ => return None,
    };
    Some(val)
}

pub fn kanji(code: u8) -> Option<char> {
    Some(match code {
        0x00 => 'ä¸Š',
        0x01 => 'ä¸‹',
        0x02 => 'å·¦',
        0x03 => 'å³',
        0x04 => 'ä¸­',
        0x05 => 'æ±',
        0x06 => 'è¥¿',
        0x07 => 'å—',
        0x08 => 'åŒ—',
        0x09 => 'ä¸€',
        0x0A => 'äºŒ',
        0x0B => 'ä¸‰',
        0x0C => 'å',
        0x0D => 'å›½',
        0x0E => 'åŸŽ',
        0x0F => 'å§«',
        0x10 => 'å¤§',
        0x11 => 'çŽ‹',
        0x12 => 'èŠ±',
        0x13 => 'ä¸–',
        0x14 => 'ç•Œ',
        0x15 => 'è‰',
        0x16 => 'æ°—',
        0x17 => 'é–“',
        0x18 => 'é–€',
        0x19 => 'å®¶',
        0x1A => 'åœ°',
        0x1B => 'å²©',
        0x1C => 'é§…',
        0x1D => 'å±±',
        0x1E => 'æµ·',
        0x1F => 'ç«',
        0x20 => 'æ°´',
        0x21 => 'æ°·',
        0x22 => 'æ—¥',
        0x23 => 'æ ¹',
        0x24 => 'é›²',
        0x25 => 'å£',
        0x26 => 'åŽŸ',
        0x27 => 'å‰',
        0x28 => 'åº—',
        0x29 => 'å¤©',
        0x2A => 'æ£®',
        0x2B => 'æœ¨',
        0x2C => 'åŠ›',
        0x2D => 'ç©º',
        0x2E => 'äºº',
        0x2F => 'å³¶',
        0x30 => 'å‡º',
        0x31 => 'å…¥',
        0x32 => 'æœ¬',
        0x33 => 'çŸ³',
        0x34 => 'æ‘',
        0x35 => 'ä¼‘',
        0x36 => 'å…ˆ',
        0x37 => 'è¦‹',
        0x38 => 'è¿‘',
        0x39 => 'æ–¹',
        0x3A => 'æ³•',
        0x3B => 'æ‰‹',
        0x3C => 'ç´™',
        0x3D => 'å¼•',
        0x3E => 'å ´',
        0x3F => 'æ‰€',
        0x40 => 'ä½¿',
        0x41 => 'å›ž',
        0x42 => 'é“',
        0x43 => 'ç‰©',
        0x44 => 'å¼Ÿ',
        0x45 => 'å­',
        0x46 => 'æ±½',
        0x47 => 'è»Š',
        0x48 => 'ä½•',
        0x49 => 'é»’',
        0x4A => 'åˆ†',
        0x4B => 'æ™‚',
        0x4C => 'å±‹',
        0x4D => 'éŸ³',
        0x4E => 'ç›®',
        0x4F => 'è¡Œ',
        0x50 => 'çµµ',
        0x51 => 'æœˆ',
        0x52 => 'é‡Ž',
        0x53 => 'å¤–',
        0x54 => 'å›³',
        0x55 => 'éƒ¨',
        0x56 => 'å°',
        0x57 => 'é¢¨',
        0x58 => 'é­”',
        0x59 => 'å…ƒ',
        0x5A => 'å¤ª',
        0x5B => 'é™½',
        0x5C => 'å®Ÿ',
        0x5D => 'èµ¤',
        0x5E => 'é›ª',
        0x5F => 'è°·',
        0x60 => 'é€š',
        0x61 => 'â—‹',
        0x62 => 'ï¼¸',
        0x63 => 'é•·',
        0x64 => 'è©±',
        0x65 => 'è‰²',
        0x66 => 'å…‰',
        0x67 => 'åˆ',
        0x68 => 'é’',
        0x69 => 'é»„',
        0x6A => 'ðŸŽµ',
        0x6B => 'å½“',
        0x6C => 'æ•°',
        0x6D => 'å…„',
        0x6E => 'ç”¨',
        0x6F => 'å¿ƒ',
        0x70 => 'ä»Š',
        0x71 => 'æ­£',
        0x72 => 'ç›´',
        0x73 => 'å…¨',
        0x74 => 'ä½“',
        0x75 => 'å¤œ',
        0x76 => 'é¢',
        0x77 => 'è™«',
        0x78 => 'x',
        0xf0 => '\n',
        0xf2 => '\n',
        0xF7 => '\u{3000}',
        _ => return None,
    })
}

#[test]
fn test_kanji_completeness() {
    for i in 0x00..=0x78 {
        assert!(kanji(i).is_some());
    }
}

#[test]
fn ensure_no_duplicates() {
    let mut set: Vec<char> = (0x00..=0x78).map(|i| kanji(i).unwrap()).collect();
    set.sort();
    let len_before = set.len();
    set.dedup();
    assert_eq!(set.len(), len_before);
}

pub fn latin(code: u8) -> Option<char> {
    Some(match code {
        0x00 => 'ï¼¡',
        0x01 => 'ï¼¢',
        0x02 => 'ï¼£',
        0x03 => 'ï¼¤',
        0x04 => 'ï¼¥',
        0x05 => 'ï¼¦',
        0x06 => 'ï¼§',
        0x07 => 'ï¼¨',
        0x08 => 'ï¼©',
        0x09 => 'ï¼ª',
        0x0A => 'ï¼«',
        0x0B => 'ï¼¬',
        0x0C => 'ï¼­',
        0x0D => 'ï¼®',
        0x0E => 'ï¼¯',
        0x0F => 'ï¼°',
        0x10 => 'ï¼±',
        0x11 => 'ï¼²',
        0x12 => 'ï¼³',
        0x13 => 'ï¼´',
        0x14 => 'ï¼µ',
        0x15 => 'ï¼¶',
        0x16 => 'ï¼·',
        0x17 => 'ï¼¸',
        0x18 => 'ï¼¹',
        0x19 => 'ï¼º',
        _ => return None,
    })
}

pub fn button(code: u8) -> Option<Button> {
    Some(match code {
        0 => Button::A,
        1 => Button::B,
        2 => Button::Start,
        4 => Button::CDown,
        5 => Button::CLeft,
        7 => Button::Z,
        _ => return None,
    })
}

#[derive(Debug)]
pub enum Button {
    A,
    B,
    CLeft,
    Start,
    CDown,
    Z,
}
